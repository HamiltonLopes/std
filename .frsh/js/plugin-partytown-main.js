function E(v){(function(e){let o=new URLSearchParams(window.location.search),a=localStorage?.getItem("disablePartytown"),p=()=>o.has("disablePartytown")||o.has("gtm_debug")||a?(console.debug("\u{1F389} Running partytown scripts on main thread"),document.querySelectorAll('script[type="text/partytown"]').forEach(r=>{r.remove(),r.setAttribute("type","text/javascript"),document.body.appendChild(r)}),localStorage?.setItem("disablePartytown","true"),console.log('Disabling partytown. To enable it again, run: localStorage.setItem("disablePartytown", "")'),{...e,forward:void 0}):o.has("debugPartytown")?{...e,debug:!0}:e;window.partytown=p()})(v),function(t,e,o,a){a=t[e]=t[e]||{},a[o]=a[o]||[]}(window,"partytown","forward"),function(t,e,o,a,p,r,c,h,w,i,u,y){function f(){y||(y=1,(c=(r.lib||"/~partytown/")+(r.debug?"debug/":""))[0]=="/"&&(w=e.querySelectorAll('script[type="text/partytown"]'),a!=t?a.dispatchEvent(new CustomEvent("pt1",{detail:t})):(h=setTimeout(m,1e4),e.addEventListener("pt0",b),p?g(1):o.serviceWorker?o.serviceWorker.register(c+(r.swPath||"partytown-sw.js"),{scope:c}).then(function(n){n.active?g():n.installing&&n.installing.addEventListener("statechange",function(s){s.target.state=="activated"&&g()})},console.error):m())))}function g(n){i=e.createElement(n?"script":"iframe"),n||(i.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),i.setAttribute("aria-hidden",!0)),i.src=c+"partytown-"+(n?"atomics.js?v=0.8.0":"sandbox-sw.html?"+Date.now()),e.querySelector(r.sandboxParent||"body").appendChild(i)}function m(n,s){for(b(),a==t&&(r.forward||[]).map(function(d){delete t[d.split(".")[0]]}),n=0;n<w.length;n++)(s=e.createElement("script")).innerHTML=w[n].innerHTML,e.head.appendChild(s);i&&i.parentNode.removeChild(i)}function b(){clearTimeout(h)}r=t.partytown||{},a==t&&(r.forward||[]).map(function(n){u=t,n.split(".").map(function(s,d,l){u=u[l[d]]=d+1<l.length?l[d+1]=="push"?[]:u[l[d]]||{}:function(){(t._ptf=t._ptf||[]).push(l,arguments)}})}),e.readyState=="complete"?f():(t.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f))}(window,document,navigator,top,window.crossOriginIsolated)}export{E as default};
